(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{308:function(s,t,a){"use strict";a.r(t);var e=a(7),l=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-ä¸‹è½½å®‰è£…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä¸‹è½½å®‰è£…"}},[s._v("#")]),s._v(" 1. ä¸‹è½½å®‰è£…")]),s._v(" "),t("p",[s._v("PostgreSQL å¯ä»¥ä» Ubuntu ä¸»å­˜å‚¨åº“ä¸­è·å–ï¼Œä½†æ˜¯ä¸ä¸€å®šæ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¿›è¡ŒæŸ¥çœ‹ï¼š")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("apt show postgresql\n")])])]),t("p",[s._v("æ ¹æ®æ‰€æ˜¾ç¤ºçš„ä¿¡æ¯ï¼Œå¯ä»¥è‡ªä¸»å†³å®šæ˜¯å®‰è£… Ubuntu æä¾›çš„ç‰ˆæœ¬è¿˜æ˜¯è·å– PostgreSQL çš„æœ€æ–°å‘è¡Œç‰ˆï¼Œä¸‹é¢ä¼šåˆ†åˆ«ä»‹ç»è¿™ä¸¤ç§æ–¹å¼ã€‚")]),s._v(" "),t("ul",[t("li",[s._v("ä¸»å­˜å‚¨åº“ç‰ˆæœ¬")])]),s._v(" "),t("p",[s._v("æ‰§è¡Œå‘½ä»¤ï¼š")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo apt update\nsudo apt install postgresql postgresql-contrib\n")])])]),t("ul",[t("li",[s._v("æœ€æ–°å‘è¡Œç‰ˆ")])]),s._v(" "),t("ol",[t("li",[t("p",[s._v("æ·»åŠ GPG å¯†é’¥")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -\n")])])])]),s._v(" "),t("li",[t("p",[s._v("æ·»åŠ å­˜å‚¨åº“")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo sh -c 'echo \"deb http://apt.postgresql.org/pub/repos/apt/ `lsb_release -cs`-pgdg main\" >> /etc/apt/sources.list.d/pgdg.list'\n")])])])]),s._v(" "),t("li",[t("p",[s._v("å®‰è£…")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo apt update\nsudo apt install postgresql postgresql-contrib\n")])])])])]),s._v(" "),t("h2",{attrs:{id:"_2-åˆå§‹åŒ–é…ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-åˆå§‹åŒ–é…ç½®"}},[s._v("#")]),s._v(" 2. åˆå§‹åŒ–é…ç½®")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("æ£€æŸ¥PostgreSQLçŠ¶æ€")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("service postgresql status\n")])])])]),s._v(" "),t("li",[t("p",[s._v("åˆ‡æ¢postgresç”¨æˆ·ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼ŒPostgreSQL ä¼šåˆ›å»ºä¸€ä¸ªæ‹¥æœ‰æ‰€æƒé™çš„ç‰¹æ®Šç”¨æˆ· "),t("code",[s._v("postgres")]),s._v("ï¼Œè¦ä½¿ç”¨ PostgreSQLï¼Œå¿…é¡»å…ˆç™»å½•è¯¥ç”¨æˆ·ï¼‰")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo su postgres\n")])])])]),s._v(" "),t("li",[t("p",[s._v("å¯åŠ¨ PostgreSQL Shell")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("psql\n")])])])]),s._v(" "),t("li",[t("p",[s._v("ä¿®æ”¹ç”¨æˆ·postgresçš„å¯†ç ï¼ˆæ­¤å¤„çš„postgresè¡¨ç¤ºPostgreSQLä¸­çš„ç”¨æˆ·ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå¯ä»¥ä¿®æ”¹ä»»ä½•PostgreSQLç”¨æˆ·çš„å¯†ç ï¼‰")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ALTER USER postgres WITH PASSWORD 'my_password';\n")])])])]),s._v(" "),t("li",[t("p",[s._v("æµ‹è¯•postgresç”¨æˆ·è¿æ¥")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("psql -U postgres -d postgres\n")])])]),t("p",[s._v("ğŸ”” å¦‚æœé‡åˆ°é”™è¯¯ï¼š"),t("code",[s._v('psql: FATAL: Peer authentication failed for user "postgres"')]),s._v("ï¼Œé‚£ä¹ˆé€šè¿‡rootç”¨æˆ·ä¿®æ”¹é…ç½®æ–‡ä»¶ "),t("code",[s._v("/etc/postgresql/11/main/pg_hba.conf")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("å°†\nlocal   all             postgres                                peer\nä¿®æ”¹ä¸º\nlocal   all             postgres                                md5\n")])])])]),s._v(" "),t("li",[t("p",[s._v("é‡å¯")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo service postgresql restart\n")])])])])]),s._v(" "),t("h2",{attrs:{id:"_3-è®¾ç½®å…è®¸è¿œç¨‹è®¿é—®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-è®¾ç½®å…è®¸è¿œç¨‹è®¿é—®"}},[s._v("#")]),s._v(" 3. è®¾ç½®å…è®¸è¿œç¨‹è®¿é—®")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("ä¿®æ”¹é…ç½®æ–‡ä»¶ "),t("code",[s._v("/etc/postgresql/ç‰ˆæœ¬å·/main/postgresql.conf")]),s._v("ï¼Œç¼–è¾‘æˆ–è€…æ·»åŠ ä¸‹é¢ä¸€è¡Œï¼Œä½¿PostgreSQLå¯ä»¥æ¥å—æ¥è‡ªä»»æ„IPçš„è¿æ¥è¯·æ±‚ã€‚")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("listen_addresses = '*'\n")])])])]),s._v(" "),t("li",[t("p",[s._v("ä¿®æ”¹é…ç½®æ–‡ä»¶ "),t("code",[s._v("/etc/postgresql/ç‰ˆæœ¬å·/main/pg_hba.conf")]),s._v("ï¼Œç¼–è¾‘æˆ–è€…æ·»åŠ ä¸‹é¢ä¸€è¡Œï¼Œä½¿PostgreSQLå¯ä»¥å¯¹ä»»æ„IPè¿›è¡Œå¯†ç éªŒè¯ã€‚")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("host all all 0.0.0.0/0 md5\n")])])])]),s._v(" "),t("li",[t("p",[s._v("é‡å¯")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo service postgresql restart\n")])])])])])])}),[],!1,null,null,null);t.default=l.exports}}]);