(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{316:function(e,t,p){"use strict";p.r(t);var a=p(7),i=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("在云服务器（Linux）安装了PostgreSQL后，发现使用Dbeaver、Navicat、DataGrip、PgAdmin等数据库工具连接数据库时，隔几分钟就会自动断开连接。")]),e._v(" "),t("p",[e._v("关于这个问题，可以尝试修改系统的TCP keepalive配置来解决：")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("查看当前配置")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# sysctl -A | grep net.ipv4.tcp_keepalive\nnet.ipv4.tcp_keepalive_intvl = 75      # 第一次keep alive请求发送后，不活动连接的时间\nnet.ipv4.tcp_keepalive_probes = 9      # 连接被认为是断开之前，keep alive请求被重发的次数\nnet.ipv4.tcp_keepalive_time = 7200     # keep alive探测的时间间隔\n")])])])]),e._v(" "),t("li",[t("p",[e._v("修改配置，让pg更频繁地发出探测数据包来保持TCP连接")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# sysctl -w net.ipv4.tcp_keepalive_time=60 net.ipv4.tcp_keepalive_probes=3 net.ipv4.tcp_keepalive_intvl=10\n")])])])])])])}),[],!1,null,null,null);t.default=i.exports}}]);